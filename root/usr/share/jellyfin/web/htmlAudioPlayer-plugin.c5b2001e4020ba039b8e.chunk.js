"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4122],{49643:function(e,t,n){n.r(t),n(99785),n(5769),n(86248),n(63238),n(61418),n(17460),n(14078),n(27471),n(40895);var r,i=n(47005),a=n(47518),u=n(94389),o=n(90884),s=n(72247),l=n(62474);function c(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){c(a,r,i,u,o,"next",e)}function o(e){c(a,r,i,u,o,"throw",e)}u(void 0)}))}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){e._isFadingOut=!0;var i=Math.max(0,n-.15);return console.debug("fading volume to "+i),t.volume=i,i<=0?(e._isFadingOut=!1,Promise.resolve()):new Promise((function(n,a){f(),r=setTimeout((function(){v(e,t,i).then(n,a)}),100)}))}function f(){r&&(clearTimeout(r),r=null)}var p,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=this;function r(e){e.removeEventListener("timeupdate",s),e.removeEventListener("ended",u),e.removeEventListener("volumechange",c),e.removeEventListener("pause",h),e.removeEventListener("playing",d),e.removeEventListener("play",p),e.removeEventListener("waiting",y),e.removeEventListener("error",g)}function u(){o.mr(t,this,g)}function s(){var e=this.currentTime;t._isFadingOut||(t._currentTime=e,i.Events.trigger(t,"timeupdate"))}function c(){t._isFadingOut||(o.wk(this.volume),i.Events.trigger(t,"volumechange"))}function d(e){t._started||(t._started=!0,this.removeAttribute("controls"),o.AW(t,e.target,t._currentPlayOptions.playerStartPositionTicks)),i.Events.trigger(t,"playing")}function p(){i.Events.trigger(t,"unpause")}function h(){i.Events.trigger(t,"pause")}function y(){i.Events.trigger(t,"waiting")}function g(){var e,n=this.error&&this.error.code||0,r=this.error&&this.error.message||"";switch(console.error("media element error: "+n.toString()+" "+r),n){case 1:default:return;case 2:e="network";break;case 3:if(t._hlsPlayer)return void o.tq(t);e="mediadecodeerror";break;case 4:e="medianotsupported"}o.p_(t,e)}t.name="Html Audio Player",t.type="mediaplayer",t.id="htmlaudioplayer",t.priority=1,t.play=function(e){return t._started=!1,t._timeUpdated=!1,t._currentTime=null,function(e,i){r(e),function(e){e.addEventListener("timeupdate",s),e.addEventListener("ended",u),e.addEventListener("volumechange",c),e.addEventListener("pause",h),e.addEventListener("playing",d),e.addEventListener("play",p),e.addEventListener("waiting",y)}(e);var a=i.url;console.debug("playing url: "+a);var v=(i.playerStartPositionTicks||0)/1e7;v&&(a+="#t="+v),o.LE(t),t._currentPlayOptions=i;var f,E,k=o.cV(i.mediaSource);return k&&(e.crossOrigin=k),(f=a,i.item,E=i.mediaSource,"Audio",o.rR(E.RunTimeTicks,"Audio")?-1!==f.indexOf(".m3u8")?Promise.resolve():new Promise((function(e,t){n.e(832).then(n.bind(n,40832)).then((function(n){n.ajax({url:f,type:"HEAD"}).then((function(n){var r=(n.headers.get("Content-Type")||"").toLowerCase();"application/vnd.apple.mpegurl"===r||"application/x-mpegurl"===r?e():t()}),t)}))})):Promise.reject()).then((function(){return new Promise((function(r,i){var u;u=m(regeneratorRuntime.mark((function n(){var u,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.X0)();case 2:u=n.sent,(s=new Hls({manifestLoadingTimeOut:2e4,xhrSetup:function(e){e.withCredentials=u}})).loadSource(a),s.attachMedia(e),o.eQ(t,s,e,g,r,i),t._hlsPlayer=s,t._currentSrc=a;case 9:case"end":return n.stop()}}),n)}))),n.e(4291).then(n.t.bind(n,14291,23)).then((function(e){var t=e.default;window.Hls=t,u()}))}))}),m(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.autoplay=!0,n.next=3,(0,l.X0)();case 3:return n.sent&&(e.crossOrigin="use-credentials"),n.abrupt("return",o.NB(e,a,i).then((function(){return t._currentSrc=a,o.WX(e,g)})));case 6:case"end":return n.stop()}}),n)}))))}((i=t._mediaElement)||((i=document.querySelector(".mediaPlayerAudio"))||((i=document.createElement("audio")).classList.add("mediaPlayerAudio"),i.classList.add("hide"),document.body.appendChild(i)),i.volume=o.jt(),t._mediaElement=i,i),e);var i},t.stop=function(e){f();var n=t._mediaElement,r=t._currentSrc;if(n&&r){if(!e||a.Z.tv)return n.pause(),o.mr(t,n,g),e&&t.destroy(),Promise.resolve();var i=n.volume;return v(t,n,n.volume).then((function(){n.pause(),n.volume=i,o.mr(t,n,g),e&&t.destroy()}))}return Promise.resolve()},t.destroy=function(){r(t._mediaElement),o.Zr(t._mediaElement)}}var t,r;return t=e,(r=[{key:"currentSrc",value:function(){return this._currentSrc}},{key:"canPlayMediaType",value:function(e){return"audio"===(e||"").toLowerCase()}},{key:"getDeviceProfile",value:function(e){return u.M.getDeviceProfile?u.M.getDeviceProfile(e):(0,s.Z)({})}},{key:"currentTime",value:function(e){var t=this._mediaElement;if(t){if(null!=e)return void(t.currentTime=e/1e3);var n=this._currentTime;return n?1e3*n:1e3*(t.currentTime||0)}}},{key:"duration",value:function(){var e=this._mediaElement;if(e){var t=e.duration;if(o.jO(t))return 1e3*t}return null}},{key:"seekable",value:function(){var e=this._mediaElement;if(e){var t=e.seekable;if(t&&t.length){var n=t.start(0),r=t.end(0);return o.jO(n)||(n=0),o.jO(r)||(r=0),r-n>0}return!1}}},{key:"getBufferedRanges",value:function(){var e=this._mediaElement;return e?o.wf(this,e):[]}},{key:"pause",value:function(){var e=this._mediaElement;e&&e.pause()}},{key:"resume",value:function(){var e=this._mediaElement;e&&e.play()}},{key:"unpause",value:function(){var e=this._mediaElement;e&&e.play()}},{key:"paused",value:function(){var e=this._mediaElement;return!!e&&e.paused}},{key:"setPlaybackRate",value:function(e){var t=this._mediaElement;t&&(t.playbackRate=e)}},{key:"getPlaybackRate",value:function(){var e=this._mediaElement;return e?e.playbackRate:null}},{key:"setVolume",value:function(e){var t=this._mediaElement;t&&(t.volume=Math.pow(e/100,3))}},{key:"getVolume",value:function(){var e=this._mediaElement;if(e)return Math.min(Math.round(100*Math.pow(e.volume,1/3)),100)}},{key:"volumeUp",value:function(){this.setVolume(Math.min(this.getVolume()+2,100))}},{key:"volumeDown",value:function(){this.setVolume(Math.max(this.getVolume()-2,0))}},{key:"setMute",value:function(e){var t=this._mediaElement;t&&(t.muted=e)}},{key:"isMuted",value:function(){var e=this._mediaElement;return!!e&&e.muted}},{key:"supports",value:function(e){return p||(t=[],"number"==typeof document.createElement("audio").playbackRate&&t.push("PlaybackRate"),p=t),-1!==p.indexOf(e);var t}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=h}}]);