"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6056,5150,6560],{66056:function(t,e,a){a(27471),a(5769),a(63238),a(14078),a(23938),a(61013),a(52077),a(911),a(72410),a(15610),a(17460),a(25901),a(92189),a(91047);var i=a(65009),n=a.n(i),r=a(71616),s=a(70294),l=a(61160),o=a(78695),d=a(44614),c=a(28469),u=a(61097),m=(a(664),a(76560),a(5150),a(53913));function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var i,n,r=[],s=!0,l=!1;try{for(a=a.call(t);!(s=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){l=!0,n=t}finally{try{s||null==a.return||a.return()}finally{if(l)throw n}}return r}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return b(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function p(t,e){if("disc"===e.index)return null==t.ParentIndexNumber?"":d.ZP.translate("ValueDiscNumber",t.ParentIndexNumber);var a,i,n=(e.sortBy||"").toLowerCase();return 0===n.indexOf("sortname")?"Episode"===t.Type?"":(a=(i=(t.SortName||t.Name||"?")[0].toUpperCase()).charCodeAt(0))<65||a>90?"#":i.toUpperCase():0===n.indexOf("officialrating")?t.OfficialRating||d.ZP.translate("Unrated"):0===n.indexOf("communityrating")?null==t.CommunityRating?d.ZP.translate("Unrated"):Math.floor(t.CommunityRating):0===n.indexOf("criticrating")?null==t.CriticRating?d.ZP.translate("Unrated"):Math.floor(t.CriticRating):0===n.indexOf("albumartist")&&t.AlbumArtist?(a=(i=t.AlbumArtist[0].toUpperCase()).charCodeAt(0))<65||a>90?"#":i.toUpperCase():""}function g(t,e){var a,i=m.Z.getApiClient(t.ServerId),n={fillWidth:e,fillHeight:e,type:"Primary"};return t.ImageTags&&t.ImageTags.Primary?(n.tag=t.ImageTags.Primary,a=t.Id):t.AlbumId&&t.AlbumPrimaryImageTag?(n.tag=t.AlbumPrimaryImageTag,a=t.AlbumId):t.SeriesId&&t.SeriesPrimaryImageTag?(n.tag=t.SeriesPrimaryImageTag,a=t.SeriesId):t.ParentPrimaryImageTag&&(n.tag=t.ParentPrimaryImageTag,a=t.ParentPrimaryImageItemId),a?i.getScaledImageUrl(a,n):null}function y(t,e){var a=m.Z.getApiClient(t.ServerId),i={fillWidth:e,fillHeight:e,type:"Primary"};if(t.ChannelId&&t.ChannelPrimaryImageTag&&(i.tag=t.ChannelPrimaryImageTag),t.ChannelId)return a.getScaledImageUrl(t.ChannelId,i)}function f(t,e){var a,i="",n=o.Z.tv?"h2":"div",r=function(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=h(t))){a&&(t=a);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw r}}}}(t.entries());try{for(r.s();!(a=r.n()).done;){var s=v(a.value,2),l=s[0],d=s[1];if(d){var c=void 0;0===l?c=e?document.createElement(n):document.createElement("div"):(c=document.createElement("div")).classList.add("secondary"),c.classList.add("listItemBodyText"),c.innerText=d,i+=c.outerHTML}}}catch(t){r.e(t)}finally{r.f()}return i}function I(t){for(var e="",a=0,i=t.rightButtons.length;a<i;a++){var n=t.rightButtons[a];e+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="custom" data-customaction="'.concat(n.id,'" title="').concat(n.title,'"><span class="material-icons ').concat(n.icon,'" aria-hidden="true"></span></button>')}return e}e.Z={getListViewHtml:function(t){for(var e=t.items,a="",i=t.action||"link",d="large"===t.imageSize,m=t.enableOverview,v=!!o.Z.tv,h=v?"button":"div",b=null==t.enableSideMediaInfo||t.enableSideMediaInfo,A="",P=t.enableOverview&&!o.Z.tv,C=0,T=e.length;C<T;C++){var k=e[C],Z="";if(t.showIndex){var w=p(k,t);w!==a&&(Z&&(Z+="</div>"),Z+=0===C?'<h2 class="listGroupHeader listGroupHeader-first">':'<h2 class="listGroupHeader">',Z+=n()(w),Z+="</h2>",Z+="<div>",a=w)}var S="listItem";(t.border||!1!==t.highlight&&!o.Z.tv)&&(S+=" listItem-border"),v&&(S+=" itemAction listItem-button"),o.Z.tv&&(S+=" listItem-focusscale");var B=80;d&&(S+=" listItem-largeImage",B=500);var L=k.PlaylistItemId?' data-playlistitemid="'.concat(k.PlaylistItemId,'"'):"",x=k.UserData&&k.UserData.PlaybackPositionTicks?' data-positionticks="'.concat(k.UserData.PlaybackPositionTicks,'"'):"",D=t.collectionId?' data-collectionid="'.concat(t.collectionId,'"'):"",U=t.playlistId?' data-playlistid="'.concat(t.playlistId,'"'):"",E=k.MediaType?' data-mediatype="'.concat(k.MediaType,'"'):"",N=k.CollectionType?' data-collectiontype="'.concat(k.CollectionType,'"'):"",M=k.ChannelId?' data-channelid="'.concat(k.ChannelId,'"'):"";if(P&&(S+=" listItem-withContentWrapper"),Z+="<".concat(h,' class="').concat(S,'"').concat(L,' data-action="').concat(i,'" data-isfolder="').concat(k.IsFolder,'" data-id="').concat(k.Id,'" data-serverid="').concat(k.ServerId,'" data-type="').concat(k.Type,'"').concat(E).concat(N).concat(M).concat(x).concat(D).concat(U,">"),P&&(Z+='<div class="listItem-content">'),!v&&t.dragHandle&&(Z+='<span class="listViewDragHandle material-icons listItemIcon listItemIcon-transparent drag_handle" aria-hidden="true"></span>'),!1!==t.image){var O="channel"===t.imageSource?y(k,B):g(k,B),H=d?"listItemImage listItemImage-large":"listItemImage";d&&o.Z.tv&&(H+=" listItemImage-large-tv");var F=t.imagePlayButton&&!o.Z.tv;v||(H+=" itemAction"),Z+=O?'<div data-action="'+(F?"link":i)+'" class="'+H+' lazy" data-src="'+O+'" item-icon>':'<div class="'+H+" cardImageContainer "+u.default.getDefaultBackgroundClass(k.Name)+'">'+u.default.getDefaultText(k,t);var R=k.MediaSourceCount||1;R>1&&!0!==t.disableIndicators&&(Z+='<div class="mediaSourceIndicator">'+R+"</div>");var j="";(j+=l.ZP.getPlayedIndicatorHtml(k))&&(Z+='<div class="indicators listItemIndicators">'.concat(j,"</div>")),F&&(Z+='<button is="paper-icon-button-light" class="listItemImageButton itemAction" data-action="resume"><span class="material-icons listItemImageButton-icon play_arrow" aria-hidden="true"></span></button>');var W=l.ZP.getProgressBarHtml(k,{containerClass:"listItemProgressBar"});W&&(Z+=W),Z+="</div>"}t.showIndexNumberLeft&&(Z+='<div class="listItem-indexnumberleft">',Z+=k.IndexNumber||"&nbsp;",Z+="</div>");var _=[];t.showProgramDateTime&&_.push(c.ZP.toLocaleString(c.ZP.parseISO8601Date(k.StartDate),{weekday:"long",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})),t.showProgramTime&&_.push(c.ZP.getDisplayTime(c.ZP.parseISO8601Date(k.StartDate))),t.showChannel&&k.ChannelName&&_.push(k.ChannelName);var q=null;t.showParentTitle&&("Episode"===k.Type?q=k.SeriesName:(k.IsSeries||k.EpisodeTitle&&k.Name)&&(q=k.Name));var V=r.ZP.getDisplayName(k,{includeParentInfo:t.includeParentInfoInTitle});if(t.showIndexNumber&&null!=k.IndexNumber&&(V="".concat(k.IndexNumber,". ").concat(V)),t.showParentTitle&&t.parentTitleWithTitle?(V&&(q&&(q+=" - "),q=(q||"")+V),_.push(q||"")):t.showParentTitle&&_.push(q||""),V&&!t.parentTitleWithTitle&&_.push(V),k.IsFolder)!1!==t.artist&&k.AlbumArtist&&"MusicAlbum"===k.Type&&_.push(k.AlbumArtist);else if(t.artist){var G=k.ArtistItems;G&&"MusicAlbum"!==k.Type&&_.push(G.map((function(t){return t.Name})).join(", "))}if("TvChannel"===k.Type&&k.CurrentProgram&&_.push(r.ZP.getDisplayName(k.CurrentProgram)),S="listItemBody",v||(S+=" itemAction"),!1===t.image&&(S+=" listItemBody-noleftpadding"),Z+='<div class="'.concat(S,'">'),Z+=f(_,d),!1===t.mediaInfo||b||(Z+='<div class="'.concat("secondary listItemMediaInfo listItemBodyText",'">'),Z+=s.ZP.getPrimaryMediaInfoHtml(k,{episodeTitle:!1,originalAirDate:!1,subtitles:!1}),Z+="</div>"),m&&k.Overview&&(Z+='<div class="secondary listItem-overview listItemBodyText">',Z+=k.Overview,Z+="</div>"),Z+="</div>",!1!==t.mediaInfo&&b&&(Z+='<div class="secondary listItemMediaInfo">',Z+=s.ZP.getPrimaryMediaInfoHtml(k,{year:!1,container:!1,episodeTitle:!1,criticRating:!1,endsAt:!1}),Z+="</div>"),t.recordButton||"Timer"!==k.Type&&"Program"!==k.Type||(Z+=l.ZP.getTimerIndicator(k).replace("indicatorIcon","indicatorIcon listItemAside")),Z+='<div class="listViewUserDataButtons">',!v){if(t.addToListButton&&(Z+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="addtoplaylist"><span class="material-icons playlist_add" aria-hidden="true"></span></button>'),t.infoButton&&(Z+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="link"><span class="material-icons info_outline" aria-hidden="true"></span></button>'),t.rightButtons&&(Z+=I(t)),!1!==t.enableUserDataButtons){var z=k.UserData||{},$=null==z.Likes?"":z.Likes;r.ZP.canMarkPlayed(k)&&!1!==t.enablePlayedButton&&(Z+='<button is="emby-playstatebutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+k.Id+'" data-serverid="'+k.ServerId+'" data-itemtype="'+k.Type+'" data-played="'+z.Played+'"><span class="material-icons check" aria-hidden="true"></span></button>'),r.ZP.canRate(k)&&!1!==t.enableRatingButton&&(Z+='<button is="emby-ratingbutton" type="button" class="listItemButton paper-icon-button-light" data-id="'+k.Id+'" data-serverid="'+k.ServerId+'" data-itemtype="'+k.Type+'" data-likes="'+$+'" data-isfavorite="'+z.IsFavorite+'"><span class="material-icons favorite" aria-hidden="true"></span></button>')}!1!==t.moreButton&&(Z+='<button is="paper-icon-button-light" class="listItemButton itemAction" data-action="menu"><span class="material-icons more_vert" aria-hidden="true"></span></button>')}Z+="</div>",P&&(Z+="</div>",m&&k.Overview&&(Z+='<div class="listItem-bottomoverview secondary">',Z+=k.Overview,Z+="</div>")),A+=Z+="</".concat(h,">")}return A}}},5150:function(t,e,a){a.r(e);var i=a(1197),n=a(47005),r=a(44614),s=a(78066),l=a(53913);function o(){var t=this,e=t.getAttribute("data-id"),a=t.getAttribute("data-serverid"),i=l.Z.getApiClient(a);t.classList.contains("playstatebutton-played")?(i.markUnplayed(i.getCurrentUserId(),e,new Date),c(t,!1)):(i.markPlayed(i.getCurrentUserId(),e,new Date),c(t,!0))}function d(t,e,a){a.ItemId===this.getAttribute("data-id")&&c(this,a.Played)}function c(t,e,a){var i=t.iconElement;i||(t.iconElement=t.querySelector(".material-icons"),i=t.iconElement),e?(t.classList.add("playstatebutton-played"),i&&(i.classList.add("playstatebutton-icon-played"),i.classList.remove("playstatebutton-icon-unplayed"))):(t.classList.remove("playstatebutton-played"),i&&(i.classList.remove("playstatebutton-icon-played"),i.classList.add("playstatebutton-icon-unplayed"))),!1!==a&&t.setAttribute("data-played",e),function(t,e,a){t.title="AudioBook"!==e&&"AudioPodcast"!==e?a?r.ZP.translate("Watched"):r.ZP.translate("MarkPlayed"):a?r.ZP.translate("Played"):r.ZP.translate("MarkPlayed");var i=t.querySelector(".button-text");i&&(i.innerText=t.title)}(t,t.getAttribute("data-type"),e)}function u(t){var e,a,r;t.removeEventListener("click",o),(r=(e=t)[a="UserDataChanged"])&&(n.Events.off(i.default,a,r),e[a]=null)}function m(t){var e,a,r;u(t),t.addEventListener("click",o),e=t,a="UserDataChanged",r=d.bind(e),n.Events.on(i.default,a,r),e[a]=r}var v=Object.create(s.Z);v.createdCallback=function(){s.Z.createdCallback&&s.Z.createdCallback.call(this)},v.attachedCallback=function(){s.Z.attachedCallback&&s.Z.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");t&&e&&(c(this,"true"===this.getAttribute("data-played"),!1),m(this))},v.detachedCallback=function(){s.Z.detachedCallback&&s.Z.detachedCallback.call(this),u(this),this.iconElement=null},v.setItem=function(t){t?(this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId),this.setAttribute("data-type",t.Type),c(this,t.UserData&&t.UserData.Played),m(this)):(this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-type"),this.removeAttribute("data-played"),u(this))},document.registerElement("emby-playstatebutton",{prototype:v,extends:"button"})},76560:function(t,e,a){a.r(e);var i=a(1197),n=a(47005),r=a(44614),s=a(78066),l=a(53913);function o(){var t=this,e=t.getAttribute("data-id"),a=t.getAttribute("data-serverid"),i=l.Z.getApiClient(a),n=this.getAttribute("data-likes");n="true"===n||"false"!==n&&null,function(t,e,a,i,n){return e.updateFavoriteStatus(e.getCurrentUserId(),a,!n)}(0,i,e,0,"true"===this.getAttribute("data-isfavorite")).then((function(e){c(t,e.Likes,e.IsFavorite)}))}function d(t,e,a){a.ItemId===this.getAttribute("data-id")&&c(this,a.Likes,a.IsFavorite)}function c(t,e,a,i){var n=t.querySelector(".material-icons");a?(n&&(n.classList.add("favorite"),n.classList.add("ratingbutton-icon-withrating")),t.classList.add("ratingbutton-withrating")):(n&&(n.classList.add("favorite"),n.classList.remove("ratingbutton-icon-withrating")),t.classList.remove("ratingbutton-withrating")),!1!==i&&(t.setAttribute("data-isfavorite",a),t.setAttribute("data-likes",null===e?"":e)),u(t,a)}function u(t,e){t.title=e?r.ZP.translate("Favorite"):r.ZP.translate("AddToFavorites");var a=t.querySelector(".button-text");a&&(a.innerText=t.title)}function m(t){var e,a,r;t.removeEventListener("click",o),(r=(e=t)[a="UserDataChanged"])&&(n.Events.off(i.default,a,r),e[a]=null)}function v(t){var e,a,r;m(t),t.addEventListener("click",o),e=t,a="UserDataChanged",r=d.bind(e),n.Events.on(i.default,a,r),e[a]=r}var h=Object.create(s.Z);h.createdCallback=function(){s.Z.createdCallback&&s.Z.createdCallback.call(this)},h.attachedCallback=function(){s.Z.attachedCallback&&s.Z.attachedCallback.call(this);var t=this.getAttribute("data-id"),e=this.getAttribute("data-serverid");if(t&&e){var a=this.getAttribute("data-likes");c(this,a="true"===a||"false"!==a&&null,"true"===this.getAttribute("data-isfavorite"),!1),v(this)}else u(this)},h.detachedCallback=function(){s.Z.detachedCallback&&s.Z.detachedCallback.call(this),m(this)},h.setItem=function(t){if(t){this.setAttribute("data-id",t.Id),this.setAttribute("data-serverid",t.ServerId);var e=t.UserData||{};c(this,e.Likes,e.IsFavorite),v(this)}else this.removeAttribute("data-id"),this.removeAttribute("data-serverid"),this.removeAttribute("data-likes"),this.removeAttribute("data-isfavorite"),m(this)},document.registerElement("emby-ratingbutton",{prototype:h,extends:"button"})}}]);