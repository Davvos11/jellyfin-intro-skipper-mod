/*! For license information please see UserProfilesPage.7b31ee5169355ef6df62.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6600],{9785:function(e,t,n){n.d(t,{Kd:function(){return ae},LP:function(){return se}}),n(52077),n(911);var r=n(77946),a=n(42845),s=n(11401),i=n(84146),l=n(59996),c=n(78210),o=n(9477),d=n(28024),u=n(33026),f=n(91814),Z=n(88303),m=n(22410),v=n(35997),h=n(73956),p=n(86496),b=n(47182),y=n(87994),g=n(6902),x=n(35163),P=n(36749),j=n(89310),k=n(22481),w=n(75710),I=n(11109),_=n(74270),N=n(37159),C=n(27324),S=n(68490),U=n(19046),T=n(81905),L=n(19656),O=n(5905),B=n(64660),D=n(82025),A=n(69509),E=n(69984),H=n(84216),M=n(195),R=n(77411),F=n(23282),q=n(42395),z=n(30318),W=n(45614),$=n(83305),K=n(95861),Y=n(37405),G=n(6148),J=n(63258),Q=n(50281),V=n(67889),X=n(44362),ee=n(69244),te=n(96730),ne=n(44614),re=function(e){return{af:r.Z,ar:a.Z,"be-by":s.Z,"bg-bg":i.Z,bn:l.Z,ca:c.Z,cs:o.Z,cy:d.Z,da:u.Z,de:f.Z,el:Z.Z,"en-gb":m.Z,"en-us":v.Z,eo:h.Z,es:p.Z,"es-ar":p.Z,"es-do":p.Z,"es-mx":p.Z,et:b.Z,eu:y.Z,fa:g.Z,fi:x.Z,fr:P.Z,"fr-ca":j.Z,gl:k.Z,gsw:f.Z,he:w.Z,"hi-in":I.Z,hr:_.Z,hu:N.Z,id:C.Z,is:S.Z,it:U.Z,ja:T.Z,kk:L.Z,ko:O.Z,"lt-lt":B.Z,lv:D.Z,ms:A.Z,nb:E.Z,nl:H.Z,nn:M.Z,pl:R.Z,pt:F.Z,"pt-br":q.Z,"pt-pt":F.Z,ro:z.Z,ru:W.Z,sk:$.Z,"sl-si":K.Z,sv:Y.Z,ta:G.Z,th:J.Z,tr:Q.Z,uk:V.Z,vi:X.Z,"zh-cn":ee.Z,"zh-hk":ee.Z,"zh-tw":te.Z}[e]};function ae(){return re(ne.ZP.getCurrentLocale())||re(ne.ZP.getCurrentLocale().replace(/-.*/,""))||v.Z}function se(){return{addSuffix:!0,locale:ae()}}t.ZP={getLocale:ae,getLocaleWithSuffix:se}},71426:function(e,t,n){n(62525);var r=n(27378),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;a=s("react.element"),t.Fragment=s("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var r,s={},o=null,d=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:o,ref:d,props:s,_owner:i.current}}t.jsx=o,t.jsxs=o},24246:function(e,t,n){e.exports=n(71426)},62269:function(e,t,n){var r=n(24246),a=n(44614),s=function(e){var t=e.className,n=e.title,r=e.icon;return{__html:'<button\n        is="emby-button"\n        type="button"\n        class="'.concat(t,'"\n        style="margin-left:1em;"\n        title="').concat(n,'"\n    >\n        <span class="material-icons ').concat(r,'" aria-hidden="true"></span>\n    </button>')}};t.Z=function(e){var t=e.className,n=e.title,i=e.icon;return(0,r.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:a.ZP.translate(n),icon:i})})}},45754:function(e,t,n){var r=n(24246),a=n(44614),s=function(e){var t=e.className,n=e.title,r=e.href;return{__html:'<a\n        is="emby-linkbutton"\n        rel="noopener noreferrer"\n        class="'.concat(t,'"\n        target="_blank"\n        href="').concat(r,'"\n        >\n        ').concat(n,"\n    </a>")}};t.Z=function(e){var t=e.className,n=e.title,i=e.url;return(0,r.jsx)("div",{dangerouslySetInnerHTML:s({className:t,title:a.ZP.translate(n),href:i})})}},43488:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(24246),a=n(27378),s=n(76543),i=n(44614),l=n(56705),c=n(83094),o=n(56346),d=n(64258),u=n(9785),f=n(61097),Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Z.apply(this,arguments)},m=function(e){var t=e.user,n=e.renderImgUrl;return{__html:'<a\n        is="emby-linkbutton"\n        class="cardContent"\n        href="#!/useredit.html?userId='.concat(t.Id,'"\n        >\n        ').concat(n,"\n    </a>")}},v=function(e){var t,n,a,s=e.user,l=void 0===s?{}:s,c="card squareCard scalableCard squareCard-scalable";(null===(t=l.Policy)||void 0===t?void 0:t.IsDisabled)&&(c+=" grayscale"),l.PrimaryImageTag&&l.Id&&(a=window.ApiClient.getUserImageUrl(l.Id,{width:300,tag:l.PrimaryImageTag,type:"Primary"}));var o="cardImage";(null===(n=l.Policy)||void 0===n?void 0:n.IsDisabled)&&(o+=" disabledUser");var v,h=(v=l.LastActivityDate)?i.ZP.translate("LastSeen",(0,d.Z)(Date.parse(v),(0,u.LP)())):"",p=a?"<div class='".concat(o,"' style='background-image:url(").concat(a,")'></div>"):"<div class='".concat(o," ").concat(f.default.getDefaultBackgroundClass(l.Name)," flex align-items-center justify-content-center'>\n            <span class='material-icons cardImageIcon person' aria-hidden='true'></span>\n        </div>");return(0,r.jsx)("div",Z({"data-userid":l.Id,className:c},{children:(0,r.jsxs)("div",Z({className:"cardBox visualCardBox"},{children:[(0,r.jsxs)("div",Z({className:"cardScalable visualCardBox-cardScalable"},{children:[(0,r.jsx)("div",{className:"cardPadder cardPadder-square"}),(0,r.jsx)("div",{dangerouslySetInnerHTML:m({user:l,renderImgUrl:p})})]})),(0,r.jsxs)("div",Z({className:"cardFooter visualCardBox-cardFooter"},{children:[(0,r.jsxs)("div",Z({className:"cardText flex align-items-center"},{children:[(0,r.jsx)("div",Z({className:"flex-grow",style:{overflow:"hidden",textOverflow:"ellipsis"}},{children:l.Name})),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:'<button\n        is="paper-icon-button-light"\n        type="button"\n        class="btnUserMenu flex-shrink-zero"\n        >\n        <span class="material-icons more_vert" aria-hidden="true"></span>\n    </button>'}})]})),(0,r.jsx)("div",Z({className:"cardText cardText-secondary"},{children:""!=h?h:""}))]}))]}))}))},h=n(62269),p=n(45754),b=(n(78066),n(21865),n(46650),n(70739),n(15359),function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b.apply(this,arguments)}),y=function(){var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return i}((0,a.useState)([]),2),t=e[0],d=e[1],u=(0,a.useRef)(null),f=function(){l.ZP.show(),window.ApiClient.getUsers().then((function(e){d(e),l.ZP.hide()}))};return(0,a.useEffect)((function(){var e=u.current;if(e){f();e.addEventListener("click",(function(e){var t=c.ZP.parentWithClass(e.target,"btnUserMenu");t&&function(e){var t=c.ZP.parentWithClass(e,"card"),r=t.getAttribute("data-userid");if(r){var a=[];a.push({name:i.ZP.translate("ButtonOpen"),id:"open",icon:"mode_edit"}),a.push({name:i.ZP.translate("ButtonLibraryAccess"),id:"access",icon:"lock"}),a.push({name:i.ZP.translate("ButtonParentalControl"),id:"parentalcontrol",icon:"person"}),a.push({name:i.ZP.translate("Delete"),id:"delete",icon:"delete"}),Promise.resolve().then(n.bind(n,78407)).then((function(e){e.default.show({items:a,positionTo:t,callback:function(e){switch(e){case"open":s.ZP.navigate("useredit.html?userId="+r);break;case"access":s.ZP.navigate("userlibraryaccess.html?userId="+r);break;case"parentalcontrol":s.ZP.navigate("userparentalcontrol.html?userId="+r);break;case"delete":!function(e){var t=i.ZP.translate("DeleteUserConfirmation");(0,o.Z)({title:i.ZP.translate("DeleteUser"),text:t,confirmText:i.ZP.translate("Delete"),primary:"delete"}).then((function(){l.ZP.show(),window.ApiClient.deleteUser(e).then((function(){f()}))}))}(r)}}})}))}else console.error("Unexpected null user id")}(t)})),e.querySelector(".btnAddUser").addEventListener("click",(function(){s.ZP.navigate("usernew.html")}))}else console.error("Unexpected null reference")}),[]),(0,r.jsx)("div",b({ref:u},{children:(0,r.jsx)("div",b({className:"content-primary"},{children:(0,r.jsxs)("div",b({className:"verticalSection verticalSection-extrabottompadding"},{children:[(0,r.jsxs)("div",b({className:"sectionTitleContainer sectionTitleContainer-cards",style:{display:"flex",alignItems:"center",paddingBottom:"1em"}},{children:[(0,r.jsx)("h2",b({className:"sectionTitle sectionTitle-cards"},{children:i.ZP.translate("HeaderUsers")})),(0,r.jsx)(h.Z,{className:"fab btnAddUser submit sectionTitleButton",title:"ButtonAddUser",icon:"add"}),(0,r.jsx)(p.Z,{className:"raised button-alt headerHelpButton",title:"Help",url:"https://docs.jellyfin.org/general/server/users/adding-managing-users.html"})]})),(0,r.jsx)("div",b({className:"localUsers itemsContainer vertical-wrap"},{children:t.map((function(e){return(0,r.jsx)(v,{user:e},e.Id)}))}))]}))}))}))}}}]);