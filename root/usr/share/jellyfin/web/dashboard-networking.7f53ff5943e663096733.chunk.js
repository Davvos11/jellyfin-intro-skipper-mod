"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8797],{59489:function(e,t,r){r.r(t),r.d(t,{default:function(){return i}}),r(5769),r(98010),r(63238),r(61013),r(52077),r(72482),r(20266),r(61418),r(17460),r(14078);var c=r(56705),l=r(44614),o=(r(45368),r(20716),r(76543)),n=r(61642);function u(e){var t=this,r=t.querySelector("#txtLocalAddress").value,n=t.querySelector("#chkEnableUpnp").checked;!function(e,t,r){e||!t?a({title:l.ZP.translate("TitleHostingSettings"),text:l.ZP.translate("SettingsWarning")}).then(r):r()}(r,n,(function(){var e=function(e){return e.querySelector("#txtPublicPort").value===e.querySelector("#txtPublicHttpsPort").value?"The public http and https ports must be different.":e.querySelector("#txtPortNumber").value===e.querySelector("#txtHttpsPort").value?"The http and https ports must be different.":e.querySelector("#chkEnableIP6").checked||e.querySelector("#chkEnableIP4").checked?null:"Either IPv4 or IPv6 need to be checked."}(t);e?a(e):function(e){var t=e.querySelector("#txtCertificatePath").value||null;return e.querySelector("#chkEnableHttps").checked&&!t?a({title:l.ZP.translate("TitleHostingSettings"),text:l.ZP.translate("HttpsRequiresCert")}).then(Promise.reject):Promise.resolve()}(t).then((function(){c.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(e){e.LocalNetworkSubnets=t.querySelector("#txtLanNetworks").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.RemoteIPFilter=t.querySelector("#txtExternalAddressFilter").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.KnownProxies=t.querySelector("#txtKnownProxies").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.LocalNetworkAddresses=t.querySelector("#txtLocalAddress").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.PublishedServerUriBySubnet=t.querySelector("#txtPublishedServer").value.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})),e.IsRemoteIPFilterBlacklist="blacklist"===t.querySelector("#selectExternalAddressFilterMode").value,e.PublicPort=t.querySelector("#txtPublicPort").value,e.PublicHttpsPort=t.querySelector("#txtPublicHttpsPort").value,e.HttpServerPortNumber=t.querySelector("#txtPortNumber").value,e.HttpsPortNumber=t.querySelector("#txtHttpsPort").value,e.EnableHttps=t.querySelector("#chkEnableHttps").checked,e.RequireHttps=t.querySelector("#chkRequireHttps").checked,e.EnableUPnP=n,e.BaseUrl=t.querySelector("#txtBaseUrl").value,e.EnableRemoteAccess=t.querySelector("#chkRemoteAccess").checked,e.CertificatePath=t.querySelector("#txtCertificatePath").value||null,e.CertificatePassword=t.querySelector("#txtCertPassword").value||null,e.UPnPCreateHttpPortMap=t.querySelector("#chkCreateHttpPortMap").checked,e.AutoDiscovery=t.querySelector("#chkAutodiscovery").checked,e.AutoDiscoveryTracing=t.querySelector("#chkAutodiscoveryTracing").checked,e.EnableIPV6=t.querySelector("#chkEnableIP6").checked,e.EnableIPV4=t.querySelector("#chkEnableIP4").checked,e.UPnPCreateHttpPortMap=t.querySelector("#chkCreateHttpPortMap").checked,e.UDPPortRange=t.querySelector("#txtUDPPortRange").value,e.HDHomerunPortRange=t.querySelector("#txtHDHomerunPortRange").value,e.EnableSSDPTracing=t.querySelector("#chkEnableSSDPTracing").checked,e.SSDPTracingFilter=t.querySelector("#txtSSDPTracingFilter").value,ApiClient.updateNamedConfiguration("network",e).then(o.ZP.processServerConfigurationUpdateResult,o.ZP.processErrorResponse)}))}))})),e.preventDefault()}function a(e){return new Promise((function(t,r){(0,n.Z)(e).then(t,r)}))}function i(e){e.querySelector("#chkRemoteAccess").addEventListener("change",(function(){this.checked?(e.querySelector(".fldExternalAddressFilter").classList.remove("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.remove("hide"),e.querySelector(".fldPublicPort").classList.remove("hide"),e.querySelector(".fldPublicHttpsPort").classList.remove("hide"),e.querySelector(".fldEnableUpnp").classList.remove("hide")):(e.querySelector(".fldExternalAddressFilter").classList.add("hide"),e.querySelector(".fldExternalAddressFilterMode").classList.add("hide"),e.querySelector(".fldPublicPort").classList.add("hide"),e.querySelector(".fldPublicHttpsPort").classList.add("hide"),e.querySelector(".fldEnableUpnp").classList.add("hide"))})),e.querySelector("#btnSelectCertPath").addEventListener("click",(function(){Promise.resolve().then(r.bind(r,89618)).then((function(t){var r=new(0,t.default);r.show({includeFiles:!0,includeDirectories:!0,callback:function(t){t&&(e.querySelector("#txtCertificatePath").value=t),r.close()},header:l.ZP.translate("HeaderSelectCertificatePath")})}))})),e.querySelector(".dashboardHostingForm").addEventListener("submit",u),e.addEventListener("viewshow",(function(){c.ZP.show(),ApiClient.getNamedConfiguration("network").then((function(t){!function(e,t){var r,l;e.querySelector("#txtPortNumber").value=t.HttpServerPortNumber,e.querySelector("#txtPublicPort").value=t.PublicPort,e.querySelector("#txtPublicHttpsPort").value=t.PublicHttpsPort,e.querySelector("#txtLocalAddress").value=(t.LocalNetworkAddresses||[]).join(", "),e.querySelector("#txtLanNetworks").value=(t.LocalNetworkSubnets||[]).join(", "),e.querySelector("#txtKnownProxies").value=(t.KnownProxies||[]).join(", "),e.querySelector("#txtExternalAddressFilter").value=(t.RemoteIPFilter||[]).join(", "),e.querySelector("#selectExternalAddressFilterMode").value=t.IsRemoteIPFilterBlacklist?"blacklist":"whitelist",e.querySelector("#chkRemoteAccess").checked=null==t.EnableRemoteAccess||t.EnableRemoteAccess,e.querySelector("#txtHttpsPort").value=t.HttpsPortNumber,e.querySelector("#chkEnableHttps").checked=t.EnableHttps,e.querySelector("#chkRequireHttps").checked=t.RequireHttps,e.querySelector("#txtBaseUrl").value=t.BaseUrl||"",e.querySelector("#txtCertificatePath").value=t.CertificatePath||"",e.querySelector("#txtCertPassword").value=t.CertificatePassword||"",e.querySelector("#chkEnableUpnp").checked=t.EnableUPnP,r=e.querySelector("#chkRemoteAccess"),(l=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),r.dispatchEvent(l),e.querySelector("#chkCreateHttpPortMap").checked=t.UPnPCreateHttpPortMap,e.querySelector("#chkAutodiscovery").checked=t.AutoDiscovery,e.querySelector("#chkAutodiscoveryTracing").checked=t.AutoDiscoveryTracing,e.querySelector("#chkEnableIP6").checked=t.EnableIPV6,e.querySelector("#chkEnableIP4").checked=t.EnableIPV4,e.querySelector("#chkCreateHttpPortMap").checked=t.UPnPCreateHttpPortMap,e.querySelector("#txtUDPPortRange").value=t.UDPPortRange||"",e.querySelector("#txtHDHomerunPortRange").checked=t.HDHomerunPortRange||"",e.querySelector("#chkEnableSSDPTracing").checked=t.EnableSSDPTracing,e.querySelector("#txtSSDPTracingFilter").value=t.SSDPTracingFilter||"",e.querySelector("#txtPublishedServer").value=(t.PublishedServerUriBySubnet||[]).join(", "),c.ZP.hide()}(e,t)}))}))}}}]);